from __future__ import annotations

from silas.models.agents import (
    AgentResponse,
    InteractionMode,
    InteractionRegister,
    MemoryOp,
    MemoryOpType,
    MemoryQuery,
    MemoryQueryStrategy,
    PlanAction,
    PlanActionType,
    RouteDecision,
)
from silas.models.approval import (
    ApprovalDecision,
    ApprovalScope,
    ApprovalToken,
    ApprovalVerdict,
    Base64Bytes,
    PendingApproval,
)
from silas.models.connections import (
    AuthStrategy,
    Connection,
    ConnectionFailure,
    HealthCheckResult,
    RecoveryOption,
    SecureInputCompleted,
    SecureInputRequest,
    SetupStep,
    SetupStepResponse,
)
from silas.models.context import (
    ContextItem,
    ContextProfile,
    ContextSubscription,
    ContextZone,
    TokenBudget,
)
from silas.models.draft import DraftReview, DraftVerdict
from silas.models.execution import (
    ExecutionEnvelope,
    ExecutionResult,
    ExecutorAgentOutput,
    ExecutorToolCall,
    Sandbox,
    SandboxConfig,
    VerificationReport,
    VerificationResult,
)
from silas.models.gates import (
    ALLOWED_MUTATIONS,
    AccessLevel,
    Gate,
    GateLane,
    GateProvider,
    GateResult,
    GateTrigger,
    GateType,
)
from silas.models.goals import Goal, GoalRun, GoalSchedule, StandingApproval
from silas.models.memory import MemoryItem, MemoryType
from silas.models.messages import ChannelMessage, SignedMessage, TaintLevel
from silas.models.personality import (
    AxisProfile,
    MoodState,
    PersonaEvent,
    PersonaPreset,
    PersonaState,
    VoiceConfig,
)
from silas.models.preferences import InferredPreference, PreferenceSignal
from silas.models.proactivity import Suggestion, SuggestionProposal
from silas.models.review import BatchActionDecision, BatchActionItem, BatchProposal
from silas.models.sessions import Session, SessionType
from silas.models.skills import SkillDefinition, SkillMetadata, SkillRef, SkillResult
from silas.models.undo import UndoEntry
from silas.models.work import (
    Budget,
    BudgetUsed,
    EscalationAction,
    Expectation,
    VerificationCheck,
    WorkItem,
    WorkItemResult,
    WorkItemStatus,
    WorkItemType,
)

WorkItem.model_rebuild(
    _types_namespace={
        "ApprovalToken": ApprovalToken,
        "Gate": Gate,
        "AccessLevel": AccessLevel,
    }
)

__all__ = [
    "ALLOWED_MUTATIONS",
    "AccessLevel",
    "AgentResponse",
    "ApprovalDecision",
    "ApprovalScope",
    "ApprovalToken",
    "ApprovalVerdict",
    "AuthStrategy",
    "AxisProfile",
    "Base64Bytes",
    "BatchActionDecision",
    "BatchActionItem",
    "BatchProposal",
    "Budget",
    "BudgetUsed",
    "ChannelMessage",
    "Connection",
    "ConnectionFailure",
    "ContextItem",
    "ContextProfile",
    "ContextSubscription",
    "ContextZone",
    "DraftReview",
    "DraftVerdict",
    "EscalationAction",
    "ExecutionEnvelope",
    "ExecutionResult",
    "ExecutorAgentOutput",
    "ExecutorToolCall",
    "Expectation",
    "Gate",
    "GateLane",
    "GateProvider",
    "GateResult",
    "GateTrigger",
    "GateType",
    "Goal",
    "GoalRun",
    "GoalSchedule",
    "HealthCheckResult",
    "InferredPreference",
    "InteractionMode",
    "InteractionRegister",
    "MemoryItem",
    "MemoryOp",
    "MemoryOpType",
    "MemoryQuery",
    "MemoryQueryStrategy",
    "MemoryType",
    "MoodState",
    "PendingApproval",
    "PersonaEvent",
    "PersonaPreset",
    "PersonaState",
    "PlanAction",
    "PlanActionType",
    "PreferenceSignal",
    "RecoveryOption",
    "RouteDecision",
    "Sandbox",
    "SandboxConfig",
    "SecureInputCompleted",
    "SecureInputRequest",
    "Session",
    "SessionType",
    "SetupStep",
    "SetupStepResponse",
    "SignedMessage",
    "SkillDefinition",
    "SkillMetadata",
    "SkillRef",
    "SkillResult",
    "StandingApproval",
    "Suggestion",
    "SuggestionProposal",
    "TaintLevel",
    "TokenBudget",
    "UndoEntry",
    "VerificationCheck",
    "VerificationReport",
    "VerificationResult",
    "VoiceConfig",
    "WorkItem",
    "WorkItemResult",
    "WorkItemStatus",
    "WorkItemType",
]
